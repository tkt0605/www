{% extends "base/base.html" %}
{% load static %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/create.css' %}">

{% endblock extra_head %}
{% block title %}flexBlock | CreateClass{% endblock title %}
{% block content %}
<div class="main_bord">
    <div class="name">
        シングル・ブロックの作成
    </div>
    <br>
    <div class="forms">
        <div class="reg_form">
            <form class="forms" enctype="multipart/form-data" method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <button class="create" type="submit"><b>作成</b></button>
            <form>
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // group_type の選択を取得
        const groupTypeSelect = document.querySelector('#id_type');
        const coManagerField = document.querySelector('#id_comanager');

        // ページ読み込み時に group_type を確認
        function toggleCoManagerField() {
            if (groupTypeSelect.value === 'multiple') {
                coManagerField.style.display = 'block';  // マルチなら表示
            } else {
                coManagerField.style.display = 'none';   // シングルなら非表示
            }
        }

        // 初期表示時に状態を確認
        toggleCoManagerField();

        // group_type が変更されたら動的に表示切り替え
        groupTypeSelect.addEventListener('change', function () {
            toggleCoManagerField();
        });
    });
</script> 
{% endblock content %}